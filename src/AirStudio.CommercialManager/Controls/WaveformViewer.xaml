<UserControl x:Class="AirStudio.CommercialManager.Controls.WaveformViewer"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             mc:Ignorable="d"
             d:DesignHeight="120" d:DesignWidth="600"
             Background="#0D1B2A">

    <Grid>
        <!-- Simplified: Waveform only with time overlay, no slider or buttons -->
        <Border CornerRadius="4" ClipToBounds="True"
                MouseLeftButtonDown="WaveformArea_MouseLeftButtonDown">
            <Grid>
                <!-- Waveform Canvas -->
                <Canvas x:Name="WaveformCanvas" Background="Transparent"/>

                <!-- Playhead -->
                <Canvas x:Name="PlayheadCanvas">
                    <Line x:Name="Playhead" Y1="0" Y2="{Binding ActualHeight, ElementName=WaveformCanvas}"
                          Stroke="#FF6B6B" StrokeThickness="2" Visibility="Collapsed"/>
                </Canvas>

                <!-- Time Overlay (bottom-left corner) -->
                <Border x:Name="TimeOverlayBorder" VerticalAlignment="Bottom" HorizontalAlignment="Left"
                        Background="#80000000" CornerRadius="2" Padding="6,2" Margin="4,0,0,4"
                        Visibility="Collapsed">
                    <StackPanel Orientation="Horizontal">
                        <TextBlock x:Name="CurrentTimeLabel" Text="00:00:00"
                                   Foreground="#B0C4DE" FontSize="10" FontFamily="Consolas"/>
                        <TextBlock Text=" / " Foreground="#607D8B" FontSize="10"/>
                        <TextBlock x:Name="TotalTimeLabel" Text="00:00:00"
                                   Foreground="#B0C4DE" FontSize="10" FontFamily="Consolas"/>
                    </StackPanel>
                </Border>

                <!-- Segment Info (for capsules - bottom-right corner) -->
                <Border x:Name="SegmentInfo" VerticalAlignment="Bottom" HorizontalAlignment="Right"
                        Background="#80000000" CornerRadius="2" Padding="6,2" Margin="0,0,4,4"
                        Visibility="Collapsed">
                    <TextBlock x:Name="SegmentLabel" Text="Segment: --"
                               Foreground="#B0C4DE" FontSize="10"/>
                </Border>

                <!-- Loading Overlay -->
                <Border x:Name="LoadingOverlay" Background="#80000000" Visibility="Collapsed">
                    <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                        <TextBlock Text="Loading waveform..." Foreground="#B0C4DE" FontSize="12"/>
                    </StackPanel>
                </Border>

                <!-- Empty State -->
                <Border x:Name="EmptyOverlay" Background="Transparent">
                    <TextBlock Text="Select an audio file to view waveform"
                               Foreground="#607D8B" FontSize="12" FontStyle="Italic"
                               HorizontalAlignment="Center" VerticalAlignment="Center"/>
                </Border>
            </Grid>
        </Border>
    </Grid>
</UserControl>
