<Application x:Class="AirStudio.CommercialManager.App"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             Startup="Application_Startup">
    <Application.Resources>
        <!-- Dark Blue Palette (from AirStudio.Playback) -->
        <SolidColorBrush x:Key="PrimaryDarkBrush" Color="#0B1E39"/>
        <SolidColorBrush x:Key="PrimaryMidBrush" Color="#123254"/>
        <SolidColorBrush x:Key="PrimaryLightBrush" Color="#1F4A75"/>
        <SolidColorBrush x:Key="PrimaryAccentBrush" Color="#27639B"/>
        <SolidColorBrush x:Key="AccentHoverBrush" Color="#27639B"/>
        <SolidColorBrush x:Key="AccentPressedBrush" Color="#1F4A75"/>
        <SolidColorBrush x:Key="DisabledBrush" Color="#2A4766"/>
        <SolidColorBrush x:Key="DisabledForegroundBrush" Color="#6C8599"/>
        <SolidColorBrush x:Key="ForegroundBrush" Color="#FFFFFF"/>
        <SolidColorBrush x:Key="WindowBackgroundBrush" Color="#0B1E39"/>
        <SolidColorBrush x:Key="ControlBackgroundBrush" Color="#123254"/>
        <SolidColorBrush x:Key="StudioBorderColor" Color="#37474F"/>
        <SolidColorBrush x:Key="StudioPanelBackground" Color="#1A2329"/>
        <SolidColorBrush x:Key="StudioShadowColor" Color="#66000000"/>
        <SolidColorBrush x:Key="ControlBackgroundHoverBrush" Color="#162B4A"/>
        <SolidColorBrush x:Key="ControlBackgroundPressedBrush" Color="#1A3252"/>

        <!-- Status Colors -->
        <SolidColorBrush x:Key="SuccessBrush" Color="#00E676"/>
        <SolidColorBrush x:Key="SuccessBackgroundBrush" Color="#0A3D1A"/>
        <SolidColorBrush x:Key="WarningBrush" Color="#FFB74D"/>
        <SolidColorBrush x:Key="WarningBackgroundBrush" Color="#3D2A0A"/>
        <SolidColorBrush x:Key="ErrorBrush" Color="#FF5252"/>
        <SolidColorBrush x:Key="ErrorBackgroundBrush" Color="#3D0A0A"/>
        <SolidColorBrush x:Key="InfoBrush" Color="#64B5F6"/>
        <SolidColorBrush x:Key="InfoBackgroundBrush" Color="#0A2A3D"/>

        <!-- StudioPanel Style -->
        <Style x:Key="StudioPanel" TargetType="Border">
            <Setter Property="Background" Value="{StaticResource StudioPanelBackground}"/>
            <Setter Property="BorderBrush" Value="{StaticResource StudioBorderColor}"/>
            <Setter Property="BorderThickness" Value="1.2"/>
            <Setter Property="CornerRadius" Value="10"/>
            <Setter Property="Padding" Value="10"/>
            <Setter Property="SnapsToDevicePixels" Value="True"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect BlurRadius="10" ShadowDepth="2" Opacity="0.4" Color="Black"/>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Card Panel Style -->
        <Style x:Key="CardPanel" TargetType="Border">
            <Setter Property="Background" Value="#1B263B"/>
            <Setter Property="BorderBrush" Value="#274060"/>
            <Setter Property="BorderThickness" Value="1.2"/>
            <Setter Property="CornerRadius" Value="4"/>
            <Setter Property="Padding" Value="8"/>
            <Setter Property="SnapsToDevicePixels" Value="True"/>
        </Style>

        <!-- Empty Hint Style -->
        <Style x:Key="EmptyHint" TargetType="TextBlock">
            <Setter Property="Foreground" Value="#607D8B"/>
            <Setter Property="FontStyle" Value="Italic"/>
            <Setter Property="HorizontalAlignment" Value="Center"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Margin" Value="10"/>
        </Style>

        <!-- Global Button Style -->
        <Style TargetType="Button">
            <Setter Property="Foreground" Value="{DynamicResource ForegroundBrush}"/>
            <Setter Property="Background" Value="{DynamicResource ControlBackgroundBrush}"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Padding" Value="10,4"/>
            <Setter Property="Margin" Value="2"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="SnapsToDevicePixels" Value="True"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border"
                                Background="{TemplateBinding Background}"
                                CornerRadius="6"
                                SnapsToDevicePixels="True">
                            <ContentPresenter HorizontalAlignment="Center"
                                              VerticalAlignment="Center"
                                              RecognizesAccessKey="True"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="{DynamicResource ControlBackgroundHoverBrush}"/>
                                <Setter TargetName="border" Property="BorderBrush" Value="#33FFFFFF"/>
                                <Setter TargetName="border" Property="BorderThickness" Value="1"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="Background" Value="{DynamicResource ControlBackgroundPressedBrush}"/>
                                <Setter TargetName="border" Property="BorderBrush" Value="#66FFFFFF"/>
                                <Setter TargetName="border" Property="BorderThickness" Value="2"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="border" Property="Background" Value="{DynamicResource DisabledBrush}"/>
                                <Setter Property="Foreground" Value="{DynamicResource DisabledForegroundBrush}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Ribbon Button Style -->
        <Style x:Key="RibbonButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#1B3A5F"/>
            <Setter Property="Foreground" Value="#E0E6ED"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="FontSize" Value="11"/>
            <Setter Property="Padding" Value="8,4"/>
            <Setter Property="Margin" Value="2,0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Focusable" Value="False"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border"
                                Background="{TemplateBinding Background}"
                                BorderBrush="#3D5A80"
                                BorderThickness="1"
                                CornerRadius="4"
                                Padding="{TemplateBinding Padding}"
                                SnapsToDevicePixels="True">
                            <ContentPresenter HorizontalAlignment="Center"
                                              VerticalAlignment="Center"
                                              RecognizesAccessKey="True"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#2A5080"/>
                                <Setter TargetName="border" Property="BorderBrush" Value="#5A8FC4"/>
                                <Setter Property="Foreground" Value="White"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#0D3060"/>
                                <Setter TargetName="border" Property="BorderBrush" Value="#4A7FB4"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="border" Property="Opacity" Value="0.5"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Animated Toolbar Button Style (with scale animation on hover) -->
        <Style x:Key="AnimatedToolbarButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#1B3A5F"/>
            <Setter Property="Foreground" Value="#E0E6ED"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="FontSize" Value="11"/>
            <Setter Property="Padding" Value="8,4"/>
            <Setter Property="Margin" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Focusable" Value="False"/>
            <Setter Property="RenderTransformOrigin" Value="0.5,0.5"/>
            <Setter Property="RenderTransform">
                <Setter.Value>
                    <ScaleTransform ScaleX="1" ScaleY="1"/>
                </Setter.Value>
            </Setter>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border"
                                Background="{TemplateBinding Background}"
                                BorderBrush="#3D5A80"
                                BorderThickness="1"
                                CornerRadius="4"
                                Padding="{TemplateBinding Padding}"
                                SnapsToDevicePixels="True">
                            <ContentPresenter HorizontalAlignment="Center"
                                              VerticalAlignment="Center"
                                              RecognizesAccessKey="True"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#0D3060"/>
                                <Setter TargetName="border" Property="BorderBrush" Value="#4A7FB4"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="border" Property="Opacity" Value="0.5"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <EventTrigger RoutedEvent="MouseEnter">
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation To="1.1" Duration="0:0:0.15"
                                             Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleX)">
                                <DoubleAnimation.EasingFunction>
                                    <CubicEase EasingMode="EaseOut"/>
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                            <DoubleAnimation To="1.1" Duration="0:0:0.15"
                                             Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleY)">
                                <DoubleAnimation.EasingFunction>
                                    <CubicEase EasingMode="EaseOut"/>
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                        </Storyboard>
                    </BeginStoryboard>
                </EventTrigger>
                <EventTrigger RoutedEvent="MouseLeave">
                    <BeginStoryboard>
                        <Storyboard>
                            <DoubleAnimation To="1.0" Duration="0:0:0.15"
                                             Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleX)">
                                <DoubleAnimation.EasingFunction>
                                    <CubicEase EasingMode="EaseOut"/>
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                            <DoubleAnimation To="1.0" Duration="0:0:0.15"
                                             Storyboard.TargetProperty="(RenderTransform).(ScaleTransform.ScaleY)">
                                <DoubleAnimation.EasingFunction>
                                    <CubicEase EasingMode="EaseOut"/>
                                </DoubleAnimation.EasingFunction>
                            </DoubleAnimation>
                        </Storyboard>
                    </BeginStoryboard>
                </EventTrigger>
            </Style.Triggers>
        </Style>

        <!-- Primary Action Button Style -->
        <Style x:Key="PrimaryButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="{DynamicResource PrimaryAccentBrush}"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Padding" Value="16,8"/>
            <Setter Property="Margin" Value="4"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border"
                                Background="{TemplateBinding Background}"
                                CornerRadius="6"
                                BorderThickness="0"
                                Padding="{TemplateBinding Padding}"
                                SnapsToDevicePixels="True">
                            <Border.Effect>
                                <DropShadowEffect Color="#27639B" BlurRadius="10" ShadowDepth="0" Opacity="0.5"/>
                            </Border.Effect>
                            <ContentPresenter HorizontalAlignment="Center"
                                              VerticalAlignment="Center"
                                              RecognizesAccessKey="True"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#3080C0"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#1F5080"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="border" Property="Opacity" Value="0.5"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- TextBox Style -->
        <Style TargetType="TextBox">
            <Setter Property="Background" Value="#1A2A40"/>
            <Setter Property="Foreground" Value="#FFFFFF"/>
            <Setter Property="BorderBrush" Value="#3D5A80"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="8,6"/>
            <Setter Property="CaretBrush" Value="#FFFFFF"/>
            <Setter Property="SelectionBrush" Value="#27639B"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border x:Name="border"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="4"
                                SnapsToDevicePixels="True">
                            <ScrollViewer x:Name="PART_ContentHost" Margin="0"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="#5A8FC4"/>
                            </Trigger>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter TargetName="border" Property="BorderBrush" Value="#27639B"/>
                                <Setter TargetName="border" Property="BorderThickness" Value="2"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="border" Property="Background" Value="#2A4766"/>
                                <Setter Property="Foreground" Value="#6C8599"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Dark Theme DatePickerTextBox Style -->
        <Style x:Key="DarkDatePickerTextBoxStyle" TargetType="DatePickerTextBox">
            <Setter Property="Background" Value="#1A2A40"/>
            <Setter Property="Foreground" Value="#E0E6ED"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="DatePickerTextBox">
                        <Grid>
                            <Border Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}">
                                <ScrollViewer x:Name="PART_ContentHost"
                                              HorizontalContentAlignment="Stretch"
                                              VerticalContentAlignment="Center"/>
                            </Border>
                            <TextBlock x:Name="PART_Watermark" Text="Select date..."
                                       Foreground="#607D8B" IsHitTestVisible="False"
                                       Visibility="Collapsed" VerticalAlignment="Center" Margin="2,0,0,0"/>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Dark Theme DatePicker Style -->
        <Style x:Key="DarkDatePickerStyle" TargetType="DatePicker">
            <Setter Property="Background" Value="#1A2A40"/>
            <Setter Property="Foreground" Value="#E0E6ED"/>
            <Setter Property="BorderBrush" Value="#3D5A80"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="4"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="IsTodayHighlighted" Value="True"/>
            <Setter Property="SelectedDateFormat" Value="Short"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="DatePicker">
                        <Grid x:Name="PART_Root">
                            <Border Background="{TemplateBinding Background}"
                                    BorderBrush="{TemplateBinding BorderBrush}"
                                    BorderThickness="{TemplateBinding BorderThickness}"
                                    CornerRadius="4" Padding="{TemplateBinding Padding}">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <DatePickerTextBox x:Name="PART_TextBox" Grid.Column="0"
                                                       Style="{StaticResource DarkDatePickerTextBoxStyle}"
                                                       VerticalAlignment="Center"
                                                       Focusable="{TemplateBinding Focusable}"/>
                                    <Button x:Name="PART_Button" Grid.Column="1"
                                            Background="Transparent" BorderThickness="0"
                                            Padding="4,0" Cursor="Hand" Focusable="False"
                                            HorizontalAlignment="Left" VerticalAlignment="Center">
                                        <TextBlock Text="&#xE787;" FontFamily="Segoe MDL2 Assets"
                                                   FontSize="14" Foreground="#5A8FC4"/>
                                    </Button>
                                </Grid>
                            </Border>
                            <Popup x:Name="PART_Popup" AllowsTransparency="True"
                                   Placement="Bottom" PlacementTarget="{Binding ElementName=PART_Root}"
                                   StaysOpen="False"/>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="BorderBrush" Value="#5A8FC4"/>
                            </Trigger>
                            <Trigger Property="IsFocused" Value="True">
                                <Setter Property="BorderBrush" Value="#5A8FC4"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Channel ComboBox ToggleButton Style -->
        <Style x:Key="ChannelComboBoxToggleButton" TargetType="ToggleButton">
            <Setter Property="Background" Value="#0D2844"/>
            <Setter Property="BorderBrush" Value="#3D5A80"/>
            <Setter Property="BorderThickness" Value="2"/>
            <Setter Property="Focusable" Value="False"/>
            <Setter Property="ClickMode" Value="Press"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ToggleButton">
                        <Border x:Name="MainBorder"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="6" Padding="4">
                            <Border.Effect>
                                <DropShadowEffect x:Name="BorderGlow" Color="#5A8FC4" BlurRadius="0" ShadowDepth="0" Opacity="0"/>
                            </Border.Effect>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <!-- Channel Icon -->
                                <Border x:Name="IconBorder" Grid.Column="0" Background="#1A3A5A" CornerRadius="4"
                                        Padding="8,6" Margin="2" VerticalAlignment="Center">
                                    <TextBlock x:Name="ChannelIcon" Text="&#xE774;" FontFamily="Segoe MDL2 Assets"
                                               FontSize="16" Foreground="#5A8FC4" VerticalAlignment="Center"/>
                                </Border>
                                <!-- Content area -->
                                <ContentPresenter x:Name="ContentArea" Grid.Column="1" VerticalAlignment="Center" Margin="8,0"/>
                                <!-- Dropdown arrow -->
                                <Border Grid.Column="2" Padding="8,0" VerticalAlignment="Center">
                                    <TextBlock x:Name="Arrow" Text="&#xE70D;" FontFamily="Segoe MDL2 Assets"
                                               FontSize="12" Foreground="#5A8FC4"/>
                                </Border>
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="MainBorder" Property="BorderBrush" Value="#5A8FC4"/>
                                <Setter TargetName="MainBorder" Property="Background" Value="#1A3A5A"/>
                            </Trigger>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="MainBorder" Property="BorderBrush" Value="#7AB0E0"/>
                                <Setter TargetName="Arrow" Property="Text" Value="&#xE70E;"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Vibrant Channel ComboBox ToggleButton Style (when channel selected) -->
        <Style x:Key="ChannelComboBoxToggleButtonSelected" TargetType="ToggleButton">
            <Setter Property="Background">
                <Setter.Value>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Color="#1A4A7A" Offset="0"/>
                        <GradientStop Color="#0D3058" Offset="1"/>
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="BorderBrush" Value="#5A9FD4"/>
            <Setter Property="BorderThickness" Value="2"/>
            <Setter Property="Focusable" Value="False"/>
            <Setter Property="ClickMode" Value="Press"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ToggleButton">
                        <Border x:Name="MainBorder"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="6" Padding="4">
                            <Border.Effect>
                                <DropShadowEffect Color="#5A9FD4" BlurRadius="12" ShadowDepth="0" Opacity="0.6"/>
                            </Border.Effect>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <!-- Channel Icon - Vibrant -->
                                <Border Grid.Column="0" CornerRadius="4"
                                        Padding="8,6" Margin="2" VerticalAlignment="Center">
                                    <Border.Background>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                            <GradientStop Color="#2A6AAA" Offset="0"/>
                                            <GradientStop Color="#1A4A7A" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Border.Background>
                                    <TextBlock Text="&#xE774;" FontFamily="Segoe MDL2 Assets"
                                               FontSize="16" Foreground="#7AC0FF" VerticalAlignment="Center"/>
                                </Border>
                                <!-- Content area - Channel name prominent -->
                                <ContentPresenter Grid.Column="1" VerticalAlignment="Center" Margin="8,0"/>
                                <!-- Dropdown arrow -->
                                <Border Grid.Column="2" Padding="8,0" VerticalAlignment="Center">
                                    <TextBlock x:Name="Arrow" Text="&#xE70D;" FontFamily="Segoe MDL2 Assets"
                                               FontSize="12" Foreground="#7AC0FF"/>
                                </Border>
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="MainBorder" Property="BorderBrush" Value="#7AC0FF"/>
                            </Trigger>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="MainBorder" Property="BorderBrush" Value="#9AD0FF"/>
                                <Setter TargetName="Arrow" Property="Text" Value="&#xE70E;"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Vibrant Channel ComboBox Style -->
        <Style x:Key="ChannelComboBoxStyle" TargetType="ComboBox">
            <Setter Property="Background" Value="#0D2844"/>
            <Setter Property="Foreground" Value="#7AC0FF"/>
            <Setter Property="BorderBrush" Value="#3D5A80"/>
            <Setter Property="BorderThickness" Value="2"/>
            <Setter Property="FontSize" Value="15"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="MinWidth" Value="220"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="ItemContainerStyle">
                <Setter.Value>
                    <Style TargetType="ComboBoxItem">
                        <Setter Property="Background" Value="Transparent"/>
                        <Setter Property="Foreground" Value="#E0E6ED"/>
                        <Setter Property="Padding" Value="12,10"/>
                        <Setter Property="FontSize" Value="14"/>
                        <Setter Property="Cursor" Value="Hand"/>
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="ComboBoxItem">
                                    <Border x:Name="ItemBorder" Background="{TemplateBinding Background}"
                                            Padding="{TemplateBinding Padding}">
                                        <ContentPresenter/>
                                    </Border>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsMouseOver" Value="True">
                                            <Setter TargetName="ItemBorder" Property="Background" Value="#27639B"/>
                                            <Setter Property="Foreground" Value="White"/>
                                        </Trigger>
                                        <Trigger Property="IsSelected" Value="True">
                                            <Setter TargetName="ItemBorder" Property="Background" Value="#1A3A5A"/>
                                            <Setter Property="Foreground" Value="#7AC0FF"/>
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </Setter.Value>
            </Setter>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="ComboBox">
                        <Grid x:Name="templateRoot" SnapsToDevicePixels="True">
                            <!-- Unselected State Border (muted) -->
                            <Border x:Name="UnselectedBorder" CornerRadius="6" Padding="4"
                                    Background="#0D2844" BorderBrush="#3D5A80" BorderThickness="2"
                                    Visibility="Collapsed">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <Border Grid.Column="0" Background="#1A3A5A" CornerRadius="4"
                                            Padding="8,6" Margin="2" VerticalAlignment="Center">
                                        <TextBlock Text="&#xE774;" FontFamily="Segoe MDL2 Assets"
                                                   FontSize="16" Foreground="#5A8FC4" VerticalAlignment="Center"/>
                                    </Border>
                                    <TextBlock Grid.Column="1" Text="Select Channel..." Foreground="#607D8B"
                                               FontStyle="Italic" FontWeight="Normal" FontSize="14"
                                               VerticalAlignment="Center" Margin="8,0"/>
                                    <Border Grid.Column="2" Padding="8,0" VerticalAlignment="Center">
                                        <TextBlock Text="&#xE70D;" FontFamily="Segoe MDL2 Assets"
                                                   FontSize="12" Foreground="#5A8FC4"/>
                                    </Border>
                                </Grid>
                            </Border>

                            <!-- Selected State Border (vibrant with glow) -->
                            <Border x:Name="SelectedBorder" CornerRadius="6" Padding="4"
                                    BorderBrush="#5A9FD4" BorderThickness="2">
                                <Border.Background>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                        <GradientStop Color="#1A4A7A" Offset="0"/>
                                        <GradientStop Color="#0D3058" Offset="1"/>
                                    </LinearGradientBrush>
                                </Border.Background>
                                <Border.Effect>
                                    <DropShadowEffect Color="#5A9FD4" BlurRadius="15" ShadowDepth="0" Opacity="0.5"/>
                                </Border.Effect>
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>
                                    <!-- Channel Icon - Vibrant -->
                                    <Border Grid.Column="0" CornerRadius="4"
                                            Padding="8,6" Margin="2" VerticalAlignment="Center">
                                        <Border.Background>
                                            <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                                                <GradientStop Color="#2A6AAA" Offset="0"/>
                                                <GradientStop Color="#1A4A7A" Offset="1"/>
                                            </LinearGradientBrush>
                                        </Border.Background>
                                        <TextBlock Text="&#xE774;" FontFamily="Segoe MDL2 Assets"
                                                   FontSize="16" Foreground="#7AC0FF" VerticalAlignment="Center"/>
                                    </Border>
                                    <!-- Content area - Bright cyan text -->
                                    <ContentPresenter x:Name="contentPresenter" Grid.Column="1"
                                                      Content="{TemplateBinding SelectionBoxItem}"
                                                      ContentTemplate="{TemplateBinding SelectionBoxItemTemplate}"
                                                      ContentStringFormat="{TemplateBinding SelectionBoxItemStringFormat}"
                                                      HorizontalAlignment="Left" VerticalAlignment="Center"
                                                      IsHitTestVisible="False" Margin="8,0"
                                                      TextBlock.Foreground="#7AC0FF"
                                                      TextBlock.FontWeight="Bold"
                                                      TextBlock.FontSize="15"/>
                                    <!-- Dropdown arrow -->
                                    <Border Grid.Column="2" Padding="8,0" VerticalAlignment="Center">
                                        <TextBlock x:Name="Arrow" Text="&#xE70D;" FontFamily="Segoe MDL2 Assets"
                                                   FontSize="12" Foreground="#7AC0FF"/>
                                    </Border>
                                </Grid>
                            </Border>

                            <!-- Invisible ToggleButton covering entire area for click handling -->
                            <ToggleButton x:Name="toggleButton"
                                          Background="Transparent" BorderThickness="0"
                                          Cursor="Hand" Focusable="False" ClickMode="Press"
                                          IsChecked="{Binding IsDropDownOpen, Mode=TwoWay, RelativeSource={RelativeSource TemplatedParent}}"/>

                            <!-- Dropdown popup -->
                            <Popup x:Name="PART_Popup" AllowsTransparency="True"
                                   IsOpen="{Binding IsDropDownOpen, RelativeSource={RelativeSource TemplatedParent}}"
                                   Placement="Bottom" PlacementTarget="{Binding ElementName=SelectedBorder}"
                                   PopupAnimation="Slide" Focusable="False">
                                <Border Background="#0D2844" BorderBrush="#5A9FD4"
                                        BorderThickness="1" CornerRadius="6" Margin="0,4,0,0"
                                        MinWidth="{Binding ActualWidth, ElementName=templateRoot}"
                                        MaxHeight="{TemplateBinding MaxDropDownHeight}">
                                    <Border.Effect>
                                        <DropShadowEffect Color="Black" BlurRadius="15" ShadowDepth="5" Opacity="0.5"/>
                                    </Border.Effect>
                                    <ScrollViewer>
                                        <ItemsPresenter x:Name="ItemsPresenter"
                                                        KeyboardNavigation.DirectionalNavigation="Contained"
                                                        SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"/>
                                    </ScrollViewer>
                                </Border>
                            </Popup>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <!-- No selection - show unselected border -->
                            <Trigger Property="SelectedIndex" Value="-1">
                                <Setter TargetName="UnselectedBorder" Property="Visibility" Value="Visible"/>
                                <Setter TargetName="SelectedBorder" Property="Visibility" Value="Collapsed"/>
                            </Trigger>
                            <Trigger Property="HasItems" Value="False">
                                <Setter TargetName="UnselectedBorder" Property="Visibility" Value="Visible"/>
                                <Setter TargetName="SelectedBorder" Property="Visibility" Value="Collapsed"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="SelectedBorder" Property="Opacity" Value="0.5"/>
                                <Setter TargetName="UnselectedBorder" Property="Opacity" Value="0.5"/>
                            </Trigger>
                            <!-- Dropdown open -->
                            <Trigger Property="IsDropDownOpen" Value="True">
                                <Setter TargetName="SelectedBorder" Property="BorderBrush" Value="#9AD0FF"/>
                                <Setter TargetName="Arrow" Property="Text" Value="&#xE70E;"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Label Style -->
        <Style TargetType="Label">
            <Setter Property="Foreground" Value="#B0C4DE"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Padding" Value="0,0,0,4"/>
        </Style>

        <!-- DataGrid Styles -->
        <Style TargetType="DataGrid">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#FFFFFF"/>
            <Setter Property="BorderBrush" Value="#3D5A80"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="RowBackground" Value="#1A2A40"/>
            <Setter Property="AlternatingRowBackground" Value="#1F3050"/>
            <Setter Property="GridLinesVisibility" Value="Horizontal"/>
            <Setter Property="HorizontalGridLinesBrush" Value="#2A4060"/>
            <Setter Property="HeadersVisibility" Value="Column"/>
            <Setter Property="SelectionMode" Value="Single"/>
            <Setter Property="SelectionUnit" Value="FullRow"/>
            <Setter Property="AutoGenerateColumns" Value="False"/>
            <Setter Property="CanUserAddRows" Value="False"/>
            <Setter Property="CanUserDeleteRows" Value="False"/>
        </Style>

        <Style TargetType="DataGridColumnHeader">
            <Setter Property="Background" Value="#1B3A5F"/>
            <Setter Property="Foreground" Value="#E0E6ED"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Padding" Value="8,6"/>
            <Setter Property="BorderBrush" Value="#3D5A80"/>
            <Setter Property="BorderThickness" Value="0,0,1,1"/>
        </Style>

        <Style TargetType="DataGridRow">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="Foreground" Value="#FFFFFF"/>
            <Style.Triggers>
                <Trigger Property="IsSelected" Value="True">
                    <Setter Property="Background" Value="#27639B"/>
                </Trigger>
                <Trigger Property="IsMouseOver" Value="True">
                    <Setter Property="Background" Value="#2A4060"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style TargetType="DataGridCell">
            <Setter Property="Padding" Value="8,4"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Style.Triggers>
                <Trigger Property="IsSelected" Value="True">
                    <Setter Property="Background" Value="Transparent"/>
                    <Setter Property="Foreground" Value="#FFFFFF"/>
                </Trigger>
            </Style.Triggers>
        </Style>

    </Application.Resources>
</Application>
